YUI.add("moodle-filter_mathslate-loader",function(e,t){var n={EDITOR:"mathslate-filter"};M.filter_mathslate=M.filter_mathslate||{initialiser:function(t){M.tinymce_mathslate=M.tinymce_mathslate||{},M.tinymce_mathslate.help=t.helpurl;var r,i,s;window.setTimeout(function(){var o=e.all('script[type="text/x-mathslate-config"], input, textarea');e.all('script[type="text/x-mathslate-config"]').each(function(u){var a=e.guid(),f=o.item(o.indexOf(u)+1);if(!f.test("input, textarea"))return;var l=e.Node.create('<div id="'+a+'" class="filter-mathslate-editor" />');f.ancestor().insertBefore(l,f);if(f.getAttribute("value")!==""||f.test('[readonly="readonly"]'))return;/type *=/.test(u.get("text"))?s=u.get("text").replace(/.*?type *= *([a-z]*).*/,"$1"):s="default",i=u.get("text").replace(/.*?texInput *= *([a-z]*).*/,"$1")==="true",/format *=/.test(u.get("text"))?r=u.get("text").replace(/.*?format *= *([a-z]*).*/,"$1"):r="tex";var c=new M.tinymce_mathslate.Editor("#"+a,t.configurl+"/"+s+"/config.json",{texInput:i});window.MathJax.Hub.Register.MessageHook("New Math",function(){if(!c||!c.output)return;f.getDOMNode().value=c.output(r)}),l.addClass(n.EDITOR),l.addClass(n.EDITOR+"-"+s)})},typeof window.MathJax=="undefined"?500:0)},ATTRS:{configurl:{value:null},helpurl:{value:null},iconurl:{value:null}}}},"@VERSION@",{requires:["escape","moodle-tinymce_mathslate-mathjaxeditor","moodle-tinymce_mathslate-snippeteditor","moodle-tinymce_mathslate-editor"]});
